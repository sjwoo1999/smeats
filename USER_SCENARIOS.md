# SMEats 사용자 시나리오 가이드

## 🎯 핵심 사용자 여정 (User Journeys)

### 1. 고객 주문 플로우 (Customer Purchase Flow)

#### **시나리오 A: 일반 상품 검색 & 주문**

**목표**: 필요한 식자재를 검색하고 장바구니에 담아 주문 완료

**단계별 플로우**:

1. **로그인** `/login`
   - 이메일/비밀번호 입력
   - 로그인 성공 → 대시보드로 리다이렉트

2. **상품 검색** `/products`
   - 검색바에 키워드 입력 (예: "한우")
   - 카테고리 필터 선택 (예: "육류")
   - 가격 범위 설정 (최소/최대)
   - 검색 버튼 클릭

3. **상품 탐색**
   - 검색 결과 그리드 형태로 표시
   - 🏷️ "최저가" 배지 확인
   - 카드 호버 시 "장바구니 담기" 버튼 표시
   - **빠른 담기**: 호버 버튼 클릭 → 즉시 장바구니 추가
   - **상세보기**: 카드 클릭 → 상품 상세 페이지 이동

4. **상품 상세 확인** `/products/[id]`
   - 상품 이미지, 가격, 원산지 확인
   - 수량 선택 (+ / - 버튼)
   - 판매자 정보 확인
   - "장바구니 담기" 또는 "바로 구매" 선택

5. **장바구니 확인** `/cart`
   - 담긴 상품 목록 (판매자별 그룹화)
   - 수량 조정 (+ / -)
   - 개별 상품 삭제
   - 판매자별 소계 확인
   - 전체 주문 금액 확인

6. **주문하기**
   - 판매자별 "주문하기" 버튼 클릭
   - 체크아웃 페이지로 이동 (구현 예정)

7. **주문 완료 확인** `/orders`
   - 주문 내역 조회
   - 주문 상태 확인 (접수/준비중/배송중/완료)
   - 배송지 정보 확인
   - 주문 취소 (접수 단계에서만)

**예상 소요 시간**: 5-10분

---

#### **시나리오 B: 레시피 기반 발주**

**목표**: 특정 요리에 필요한 모든 재료를 한 번에 주문

**단계별 플로우**:

1. **레시피 탐색** `/recipes`
   - 카테고리별 레시피 카드 확인
   - 레시피 이미지, 재료 개수 확인
   - 원하는 레시피 카드 클릭

2. **레시피 상세** `/recipes/[id]` (구현 예정)
   - 레시피 설명 읽기
   - 필요한 재료 목록 확인
   - **인분 수 입력** (예: 10인분)
   - 자동 계산된 재료량 확인

3. **재료 매칭**
   - 각 재료에 대해 최저가 상품 자동 매칭
   - 대체 상품 선택 가능
   - "전체 장바구니 담기" 클릭

4. **장바구니 & 주문**
   - 시나리오 A의 5-7단계와 동일

**예상 소요 시간**: 3-7분
**장점**: 재료 누락 방지, 시간 절약, 정확한 재료량

---

### 2. 판매자 플로우 (Seller Flow)

#### **시나리오 C: 상품 등록 & 주문 관리**

**단계별 플로우**:

1. **로그인** (role: seller)
   - 판매자 계정으로 로그인
   - `/seller` 대시보드로 자동 리다이렉트

2. **상품 등록** `/seller/products/new` (구현 예정)
   - 상품명, 카테고리 입력
   - 가격, 단위, 원산지 입력
   - 재고 수량 설정
   - 상품 이미지 업로드
   - 등록 완료

3. **배송 권역 설정** `/seller/delivery-zones` (구현 예정)
   - **반경 배송**: 중심 좌표 + 반경(km) 설정
   - **행정구역 배송**: 법정동 코드 선택
   - 최소 주문금액, 배송비 설정
   - 무료배송 기준 설정

4. **주문 관리** `/seller/orders` (구현 예정)
   - 신규 주문 알림 확인
   - 주문 상세 정보 확인
   - 주문 상태 업데이트 (준비중 → 배송중 → 완료)
   - 고객 연락처 확인

**예상 소요 시간**: 초기 설정 30분, 일일 관리 10분

---

### 3. 관리자 플로우 (Admin Flow)

#### **시나리오 D: 시스템 관리**

**단계별 플로우**:

1. **로그인** (role: admin)
   - 관리자 계정으로 로그인
   - `/admin` 대시보드로 자동 리다이렉트

2. **사용자 관리** `/admin/users` (구현 예정)
   - 전체 사용자 목록 조회
   - 역할 변경 (customer ↔ seller)
   - 계정 활성화/비활성화

3. **주문 모니터링** `/admin/orders` (구현 예정)
   - 전체 주문 내역 조회
   - 필터링 (판매자별, 상태별, 날짜별)
   - 문제 주문 처리

4. **시스템 설정** `/admin/settings` (구현 예정)
   - 배송비 기본값 설정
   - 플랫폼 수수료 설정
   - 공지사항 관리

---

## 🔄 주요 사용자 인터랙션 (Key Interactions)

### A. 네비게이션

**Desktop (≥768px)**:
- 상단 고정 네비게이션 바
- 로고 (좌측) + 메뉴 (중앙) + 사용자 (우측)
- Active state 하이라이트 (파란색)
- 호버 시 배경색 변경

**Mobile (<768px)**:
- 햄버거 메뉴 버튼 (우측 상단)
- 클릭 시 전체 화면 메뉴 슬라이드
- 메뉴 항목 클릭 시 자동 닫힘
- 스크롤 시 네비게이션 고정

### B. 상품 카드 인터랙션

**Desktop**:
- 카드 호버 → 이미지 확대 (scale 1.05)
- 카드 호버 → 그림자 강화 (shadow-lg)
- 카드 호버 → "장바구니 담기" 버튼 표시
- 버튼 클릭 → 장바구니 추가 + 로딩 스피너
- 카드 클릭 → 상세 페이지 이동

**Mobile**:
- 카드 탭 → 상세 페이지 이동
- 호버 효과 제거 (터치 디바이스)

### C. 장바구니 관리

**수량 조정**:
- `+` 버튼 → quantity++
- `-` 버튼 → quantity-- (최소 1)
- 실시간 가격 계산 업데이트

**삭제**:
- "삭제" 버튼 → 해당 상품 즉시 제거
- "전체 삭제" → 확인 없이 모든 상품 제거

### D. 검색 & 필터

**검색**:
- 입력 필드에 키워드 입력
- Enter 또는 "검색" 버튼 클릭
- URL 파라미터 업데이트 (`?q=keyword`)
- 서버 사이드 검색 실행

**필터**:
- 카테고리 선택 → 즉시 필터링
- 가격 범위 입력 → "검색" 버튼 클릭 시 적용
- 활성 필터 배지 표시
- "초기화" → 모든 필터 제거

---

## 📊 페이지별 기능 매트릭스

| 페이지 | 경로 | 상태 | 주요 기능 |
|--------|------|------|-----------|
| **홈** | `/` | ✅ Complete | 디자인 시스템 쇼케이스 |
| **회원가입** | `/signup` | ✅ Complete | 이메일 인증, 역할 선택 |
| **로그인** | `/login` | ✅ Complete | 세션 관리, 리다이렉트 |
| **대시보드** | `/dashboard` | ✅ Complete | 역할 기반 라우팅 |
| **상품 검색** | `/products` | ✅ Complete | 검색, 필터, 페이지네이션 |
| **상품 상세** | `/products/[id]` | ✅ Complete | 수량 선택, 장바구니 담기 |
| **장바구니** | `/cart` | ✅ Complete | 수량 조정, 삭제, 판매자별 주문 |
| **주문 내역** | `/orders` | ✅ Complete | 주문 조회, 상태 확인, 취소 |
| **레시피 목록** | `/recipes` | ✅ Complete | 레시피 탐색 |
| **레시피 상세** | `/recipes/[id]` | 🚧 Planned | 인분 계산, 재료 매칭 |
| **체크아웃** | `/checkout` | 🚧 Planned | 배송지 입력, 결제 |
| **판매자 대시보드** | `/seller` | 🚧 Planned | 매출 통계, 주문 관리 |
| **관리자 대시보드** | `/admin` | 🚧 Planned | 사용자/주문 관리 |

✅ Complete | 🚧 Planned | ❌ Not Started

---

## 🎨 UX 개선 사항

### 구현된 개선사항 ✅

1. **응답형 네비게이션**
   - Next.js Link로 SPA 경험
   - Active state 시각적 피드백
   - 모바일 햄버거 메뉴
   - Sticky 네비게이션

2. **인터랙티브 상품 카드**
   - 호버 시 빠른 장바구니 담기
   - 클릭 시 상세 페이지 이동
   - 로딩 상태 표시
   - 최저가 배지

3. **Empty State 디자인**
   - 장바구니 비어있을 때
   - 검색 결과 없을 때
   - 주문 내역 없을 때
   - 각각 적절한 아이콘 + 안내 메시지 + CTA

4. **에러 처리**
   - 404 페이지 (not-found.tsx)
   - 500 에러 페이지 (error.tsx)
   - 폼 validation 에러 표시
   - 네트워크 에러 핸들링

5. **로딩 상태**
   - Skeleton 컴포넌트 (상품 그리드)
   - 버튼 로딩 스피너
   - Suspense 경계
   - 낙관적 UI 업데이트

### 향후 개선 예정 🔮

1. **알림 시스템**
   - Toast 컴포넌트 (장바구니 담기 성공)
   - 주문 상태 변경 알림
   - 이메일 인증 알림

2. **성능 최적화**
   - 이미지 lazy loading
   - 무한 스크롤 (페이지네이션 대체)
   - Debounced 검색

3. **접근성 강화**
   - 키보드 네비게이션 테스트
   - 스크린 리더 최적화
   - Focus trap 모달

4. **사용자 경험**
   - 상품 비교 기능
   - 위시리스트
   - 최근 본 상품
   - 추천 상품

---

## 🧪 테스트 시나리오

### 수동 테스트 체크리스트

#### 고객 플로우
- [ ] 회원가입 (customer 역할)
- [ ] 로그인 → 대시보드 리다이렉트
- [ ] 상품 검색 (키워드 + 필터)
- [ ] 상품 카드 호버 → 빠른 담기
- [ ] 상품 상세 → 수량 선택 → 장바구니
- [ ] 장바구니 → 수량 조정 → 삭제
- [ ] 주문하기 (체크아웃 페이지 미구현 확인)
- [ ] 주문 내역 확인

#### 네비게이션
- [ ] 로고 클릭 → 대시보드
- [ ] 메뉴 Active state 확인
- [ ] 모바일 햄버거 메뉴 동작
- [ ] 네비게이션 Sticky 확인

#### 에러 처리
- [ ] 잘못된 URL → 404 페이지
- [ ] 서버 에러 시뮬레이션 → 에러 페이지
- [ ] 빈 검색 결과 → Empty state
- [ ] 빈 장바구니 → Empty state

#### 반응형
- [ ] Desktop (1920px) 레이아웃
- [ ] Laptop (1366px) 레이아웃
- [ ] Tablet (768px) 레이아웃
- [ ] Mobile (375px) 레이아웃

---

## 📈 성공 지표 (Success Metrics)

### 기능 완성도
- ✅ 핵심 페이지 구현: 8/13 (61%)
- ✅ 고객 플로우 완성도: 85%
- 🚧 판매자 플로우 완성도: 15%
- 🚧 관리자 플로우 완성도: 10%

### UX 품질
- ✅ Empty State 구현: 100%
- ✅ 에러 처리: 90%
- ✅ 로딩 상태: 80%
- ✅ 반응형 디자인: 75%

### 사용자 만족도 목표
- 평균 주문 완료 시간: <10분
- 장바구니 포기율: <30%
- 모바일 사용성 점수: >80/100

---

## 🚀 다음 단계

1. **Week 1**: 체크아웃 페이지 구현
2. **Week 2**: 레시피 상세 페이지 + 재료 계산
3. **Week 3**: 판매자 대시보드 핵심 기능
4. **Week 4**: 통합 테스트 + 버그 수정

**목표**: 4주 내 MVP 완성 (90점 수준 프로토타입)
